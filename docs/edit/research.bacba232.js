var e=globalThis,t={},r={},n=e.parcelRequirea313;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},e.parcelRequirea313=n),n.register;var a=n("2h5uG"),i=n("hYoLG");const s=document.getElementById("resource_add_id"),d=document.getElementById("resource_add_button"),l=document.getElementById("show_panel"),o=document.getElementById("resource_information"),c=document.getElementById("saved_indicator");class u extends a.BaseEditorClass{init(){super.init(),this.renderResourcePanel(),this.updateSaveStatus()}update(){super.update(),this.renderResourcePanel(),this.updateSaveStatus()}generateEmptyParcel(e,t){return{id:e,type:"research",name:t,description:"",symbol:"",researched:!1,onUnlock:[]}}create(){return this.confirmChangestateSave()?(0,i.regex_id).test(s.value)?(this.current=this.generateEmptyParcel(s.value,s.value.replace("_"," ")),s.value="",this.save(),console.log(`Created ${this.current.id}`),this.update(),!0):(alert("Invalid ID"),!1):(console.log("Cannot create parcel, was unable to save currently loaded parcel"),!1)}updateSaveStatus(){if(void 0===this.current){c.className="undefined";return}if(this.isSaved){c.className="saved";return}if(!this.isError&&this.checkValidToSave()){c.className="unsaved";return}c.className="error"}checkAllInputValidity(){let e=o.getElementsByTagName("input");for(let t in e)if(e[t].reportValidity&&!e[t].reportValidity())return!1;return!0}checkValidToSave(){return!!super.checkValidToSave()&&((0,i.regex_id).test(this.current.id)?!!(0,i.regex_name).test(this.current.name)||(console.warn(`Given invalid Name: ${this.current.name} to save`),this.isError=!0,this.updateSaveStatus(),!1):(console.warn(`Given invalid ID: ${this.current.id} to save`),this.isError=!0,this.updateSaveStatus(),!1))}clearRender(){l.innerHTML="",o.innerHTML="",this.renderResourcePanel()}renderResourcePanel(){l.innerHTML="";for(let e=0;e<this.research.length;e++){let t=document.createElement("button");t.innerHTML=this.research[e],t.addEventListener("click",()=>{console.log(`Loaded : ${this.research[e]}`),this.load(this.research[e]),this.renderResouceInformation()}),l.appendChild(t)}}renderResouceInformation(){if(void 0===this.current){console.warn("No research loaded");return}o.innerHTML="";let e=document.createElement("div");e.id="tlpanel";let t=document.createElement("div");t.id="trpanel";let r=document.createElement("div");r.id="bpanel",e.appendChild(this.generateTextInput("id","ID",["notEmpty","regexId","readonly"])),e.appendChild(this.generateTextInput("name","Name",["spellcheck","notEmpty","regexName"])),e.appendChild(this.generateTextInput("symbol","Symbol")),e.appendChild(this.generateTextArea("description","Description",["spellcheck"]));let n=document.createElement("button");n.innerHTML="onUnlock Events",n.addEventListener("click",()=>{this.generateOnUnlock(t)}),e.append(n),r.appendChild(this.generateDeleteButton(`${this.current.type}:${this.current.id}`)),o.appendChild(e),o.appendChild(t),o.appendChild(r)}constructor(...e){super(...e),this.editorType="research",this.editorVersion=1}}const p=new u;p.init(),window.editor=p,s.addEventListener("input",()=>{""===s.value?s.classList.add("empty"):s.classList.remove("empty")}),d.addEventListener("click",()=>{p.create()}),c.addEventListener("click",()=>{p.save()}),document.getElementById("export_current").addEventListener("click",()=>{p.saveExportData("current")}),document.getElementById("export_all").addEventListener("click",()=>{p.saveExportData("editor")});
//# sourceMappingURL=research.bacba232.js.map
