var e=globalThis,t={},n={},r=e.parcelRequirea313;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequirea313=r),r.register;var a=r("2h5uG"),i=r("hYoLG");const s=document.getElementById("resource_add_id"),d=document.getElementById("resource_add_button"),o=document.getElementById("show_panel"),l=document.getElementById("resource_information"),c=document.getElementById("saved_indicator");class u extends a.BaseEditorClass{init(){super.init(),this.renderResourcePanel(),this.updateSaveStatus()}update(){super.update(),this.renderResourcePanel(),this.updateSaveStatus()}generateEmptyParcel(e,t){return{id:e,type:"resource",name:t,description:"",symbol:"",minvalue:0,maxvalue:0,onUnlock:[],onReach:[]}}create(){return this.confirmChangestateSave()?(0,i.regex_id).test(s.value)?(this.current=this.generateEmptyParcel(s.value,s.value.replace("_"," ")),s.value="",this.save(),console.log(`Created ${this.current.id}`),this.update(),!0):(alert("Invalid ID"),!1):(console.log("Cannot create parcel, was unable to save currently loaded parcel"),!1)}updateSaveStatus(){if(void 0===this.current){c.className="undefined";return}if(this.isSaved){c.className="saved";return}if(!this.isError&&this.checkValidToSave()){c.className="unsaved";return}c.className="error"}checkAllInputValidity(){let e=l.getElementsByTagName("input");for(let t in e)if(e[t].reportValidity&&!e[t].reportValidity())return!1;return!0}checkValidToSave(){return!!super.checkValidToSave()&&((0,i.regex_id).test(this.current.id)?(0,i.regex_name).test(this.current.name)?!!((0,i.regex_number).test(`${this.current.minvalue}`)&&(0,i.regex_number).test(`${this.current.maxvalue}`))||(this.isError=!0,this.updateSaveStatus(),console.warn("Min or Max value is not a valid number"),!1):(console.warn(`Given invalid Name: ${this.current.name} to save`),this.isError=!0,this.updateSaveStatus(),!1):(console.warn(`Given invalid ID: ${this.current.id} to save`),this.isError=!0,this.updateSaveStatus(),!1))}clearRender(){o.innerHTML="",l.innerHTML="",this.renderResourcePanel()}renderResourcePanel(){o.innerHTML="";for(let e=0;e<this.resources.length;e++){let t=document.createElement("button");t.innerHTML=this.resources[e],t.addEventListener("click",()=>{console.log(`Loaded : ${this.resources[e]}`),this.load(this.resources[e]),this.renderResouceInformation()}),o.appendChild(t)}}renderResouceInformation(){if(void 0===this.current){console.warn("No resource loaded");return}l.innerHTML="";let e=document.createElement("div");e.id="tlpanel";let t=document.createElement("div");t.id="trpanel";let n=document.createElement("div");n.id="bpanel",e.appendChild(this.generateTextInput("id","ID",["notEmpty","regexId","readonly"])),e.appendChild(this.generateTextInput("name","Name",["spellcheck","notEmpty","regexName"])),e.appendChild(this.generateTextInput("symbol","Symbol")),e.appendChild(this.generateTextArea("description","Description",["spellcheck"])),e.appendChild(this.generateNumberInput("minvalue","Min Value",["notEmpty"])),e.appendChild(this.generateNumberInput("maxvalue","Max Value",["notEmpty"]));let r=document.createElement("button");r.innerHTML="onUnlock Events",r.addEventListener("click",()=>{this.generateOnUnlock(t)}),e.append(r);let a=document.createElement("button");a.innerHTML="onReach Events",a.addEventListener("click",()=>{this.generateOnReach(t)}),e.append(a),n.appendChild(this.generateDeleteButton(`${this.current.type}:${this.current.id}`)),l.appendChild(e),l.appendChild(t),l.appendChild(n)}constructor(...e){super(...e),this.editorType="resource",this.editorVersion=1}}const p=new u;p.init(),window.editor=p,s.addEventListener("input",()=>{""===s.value?s.classList.add("empty"):s.classList.remove("empty")}),d.addEventListener("click",()=>{p.create()}),c.addEventListener("click",()=>{p.save()}),document.getElementById("export_current").addEventListener("click",()=>{p.saveExportData("current")}),document.getElementById("export_all").addEventListener("click",()=>{p.saveExportData("editor")});
//# sourceMappingURL=resource.6a48e83a.js.map
